h2. Payments

This guide covers how nimbleSHOP handles payment processing.

endprologue.

h3. Merchant account

In order to accept credit cards online, store owners need to have a merchant account. "Here is a good read":http://ebooks.bigbinary.com/docs/credit-cards/index.html on how credit card works and what exactly is a merchant account.

h3. paypal web payment standard

nimbleSHOP support Paypal's <tt>Website Payments Standard</tt> out of the box. It also comes up with a valid credentials for sandbox. Follow the instruction mentioned below to pay using paypal.

h4. Logging into sandbox paypal account

Before you start testing you need to login at developer account with following credentials at "developer url":https://developer.paypal.com .

<shell>
url:      https://developer.paypal.com
email:    neeraj_sandbox_paypal@bigbinary.com
password: 12345678
</shell>

h4. Purchasing using paypal

Now visit your shop and try to purchase something. In the checkout page click on "Pay with pal".

Once you are taken to the paypal login page , login with following credentials.

<shell>
email:    buyer_1323036620_per@bigbinary.com
password: 12345678
</shell>

h4. Purchase history in paypal

* To view purchase history in paypal first login to sandbox paypal site as mentioned above.
* click on 'Test Accounts'
* Select 'seller_1323037155_biz@bigbinary.com' in the radio button.
* Click on 'Enter Sandbox Test Site'

Just for record here is the credentials to login as seller.

<shell>
email:    seller_1323037155_biz@bigbinary.com
password: 123456
</shell>

h3. Authorize.net

Authorize.Net is a payment gateway service provider allowing merchants to accept credit card and electronic checks paymentsn. Authorize.Net claims a user base of over 305,000 merchants, which would make them the Internet's largest payment gateway service provider.

nimbleSHOP has built in support for Authorize.net .

Authorize.net provides an instant "test account":https://developer.authorize.net/testaccount . Use this test account while your application for merchant account is still being processed. You can enter your account credentials at <tt>config/application.yml</tt>.

<ruby>
gateway_authorize_net_login_id: <%= ENV['GATEWAY_AUTHORIZE_NET_LOGIN_ID']  || '56yBAar72' %>
gateway_authorize_net_transaction_key: <%= ENV['GATEWAY_AUTHORIZE_NET_TRANSACTION_KEY'] ||  '9r3pbH5bnKH29f7d' %>
</ruby>

As you can see the application already has credentials of a test account. You can use that account for testing but before you go 'live' you should enter your own merchant account credentials.

If you do not want to put your Authorize.net credentials in <tt>application.yml</tt> then you can provide that information using <tt>ENV</tt>. Look at "deployment with heroku" guide for more information about how to pass environment variable to the application.

